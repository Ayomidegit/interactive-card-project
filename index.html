<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive card details form</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <style>
      :root {
        --clr-primary-violet: hsl(278, 68%, 11%);
        --clr-primary-red: hsl(0, 100%, 66%);
        --clr-neutral-white: hsl(0, 0%, 100%);
        --clr-neutral-light-grayish-violet: hsl(270, 3%, 87%);
        --clr-neutral-dark-grayish-violet: hsl(279, 6%, 55%);
        --clr-gradient-start: hsl(249, 99%, 64%);
        --clr-gradient-end: hsl(278, 94%, 30%);
        --ff-sans: "Space Grotesk", sans-serif;
        --fw-light: 300;
        --fw-normal: 500;
        --fw-bold: 700;
      }
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--ff-sans);
        font-weight: var(--fw-normal);
        font-size: 18px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background-color: var(--clr-neutral-white);
        overflow-x: hidden;
      }

      img {
        max-width: 100%;
        display: block;
      }

      button {
        cursor: pointer;
        border: none;
        outline: none;
      }

      .main-wrapper {
        background-color: var(--clr-neutral-white);
        margin: 0 auto;
        max-width: 1440px;
        width: 100%;
        position: relative;
      }

      .container {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        justify-content: flex-start;
        align-items: flex-start;
        padding-left: 0;
        gap: 0;
        background-image: url("./images/bg-main-mobile.png");
        background-repeat: no-repeat;
        background-size: 100% 240px;
        background-position: top center;
        width: 100%;
        position: relative;
      }

      .card-display {
        width: 100%;
        min-height: unset;
        padding: 0;
        position: relative;
        height: 300px;
        margin-bottom: 90px;
      }

      .card {
        position: absolute;
        width: 280px;
        height: 153px;
        border-radius: 10px;
        color: var(--clr-neutral-white);
        padding: 20px;
        background-size: cover;
        background-repeat: no-repeat;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      .card-front {
        background-image: url("./images/bg-card-front.png");
        top: 120px;
        left: 16px;
        z-index: 10;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        margin-left: 180px;
      }

      .card-logo {
        width: 60px;
        height: auto;
      }

      .card-number-display {
        font-size: 18px;
        letter-spacing: 2px;
        margin-top: 30px;
      }

      .card-details-bottom {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .card-back {
        background-image: url("./images/bg-card-back.png");
        top: 30px;
        left: calc(100% - 296px);
        z-index: 5;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        padding-right: 40px;
        margin-left: 170px;
      }

      .card-cvc-display {
        font-size: 10px;
        letter-spacing: 1px;
        margin-top: -5px;
      }

      .form-section {
        width: 100%;
        display: flex;
        justify-content: center;
        padding: 0 24px;
      }

      .card-form,
      .completed-state {
        width: 100%;
        max-width: 380px;
        padding: 20px 0;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        font-size: 12px;
        letter-spacing: 1px;
        margin-bottom: 8px;
        color: var(--clr-primary-violet);
        text-transform: uppercase;
        font-weight: var(--fw-bold);
      }

      .form-group input {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid var(--clr-neutral-light-grayish-violet);
        border-radius: 8px;
        font-size: 18px;
        font-family: var(--ff-sans);
        color: var(--clr-primary-violet);
        outline: none;
      }

      .form-group input:focus {
        border-image: linear-gradient(
            to right,
            var(--clr-gradient-start),
            var(--clr-gradient-end)
          )
          1;
        border-image-slice: 1;
      }

      .form-group input::placeholder {
        color: var(--clr-neutral-dark-grayish-violet);
      }

      .form-row {
        display: flex;
        gap: 10px;
        margin-bottom: 25px;
      }

      .form-row .form-group {
        flex: 1;
        margin-bottom: 0;
      }

      .date-inputs {
        display: flex;
        gap: 10px;
      }

      .date-inputs input {
        flex: 1;
      }

      .confirm-btn,
      .continue-btn {
        width: 100%;
        padding: 15px;
        background-color: var(--clr-primary-violet);
        color: var(--clr-neutral-white);
        border-radius: 8px;
        font-size: 18px;
        font-weight: var(--fw-normal);
        transition: background-color 0.3s ease;
      }

      .confirm-btn:hover,
      .continue-btn:hover {
        background-color: hsl(278, 68%, 20%);
      }

      .error-message {
        color: var(--clr-primary-red);
        font-size: 12px;
        margin-top: 5px;
        display: none;
      }

      .form-group input.error {
        border-color: var(--clr-primary-red);
      }

      .completed-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        width: 100%;
        max-width: 380px;
        padding: 40px 0;
      }

      .completed-state img {
        width: 80px;
        height: 80px;
        margin-bottom: 30px;
      }

      .completed-state h2 {
        color: var(--clr-primary-violet);
        font-size: 28px;
        letter-spacing: 2px;
        margin-bottom: 15px;
      }

      .completed-state p {
        color: var(--clr-neutral-dark-grayish-violet);
        font-size: 18px;
        margin-bottom: 40px;
      }

      .hidden {
        display: none;
      }

      .attribution {
        font-size: 11px;
        text-align: center;
        padding: 20px;
        color: var(--clr-neutral-dark-grayish-violet);
      }

      .attribution a {
        color: hsl(228, 45%, 44%);
      }

      @media (min-width: 768px) {
        .main-wrapper {
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
          gap: 80px;
          background-image: url("./images/bg-main-desktop.png");
          background-size: 450px 100%;
          background-position: left center;
          background-repeat: no-repeat;
        }

        .container {
          flex-direction: row;
          min-height: 100vh;
          justify-content: center;
          align-items: center;
          padding-left: 0;
          gap: 80px;
          background-image: none;
          max-width: none;
          width: 100%;
          position: static;
        }

        .card-display {
          width: 450px;
          min-height: 100vh;
          padding-top: 0;
          padding-left: 0;
          height: auto;
          margin-bottom: 0;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: flex-start;
          padding-left: 80px;
          position: static;
        }

        .card {
          position: relative;
          transform: none;
        }

        .card-front {
          top: 0;
          left: 0;
          margin-bottom: 30px;
        }

        .card-back {
          top: 0;
          left: 70px;
        }

        .form-section {
          width: calc(100% - 450px);
          padding-left: 80px;
          display: flex;
          justify-content: center;
          align-items: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="main-wrapper">
      <div class="container">
        <div class="card-display">
          <div class="card card-front">
            <img
              src="./images/card-logo.svg"
              alt="Card Logo"
              class="card-logo"
            />
            <p class="card-number-display">0000 0000 0000 0000</p>
            <div class="card-details-bottom">
              <p class="card-name-display">JANE APPLESEED</p>
              <p class="card-expiry-display">
                <span class="card-month-display">00</span>/<span
                  class="card-year-display"
                  >00</span
                >
              </p>
            </div>
          </div>
          <div class="card card-back">
            <p class="card-cvc-display">000</p>
          </div>
        </div>
        <div class="form-section">
          <div class="card-form">
            <div class="form-group">
              <label for="cardholder-name">Cardholder Name</label>
              <input
                type="text"
                id="cardholder-name"
                placeholder="e.g. Jane Appleseed"
              />
              <span class="error-message name-error"></span>
            </div>
            <div class="form-group">
              <label for="card-number">Card Number</label>
              <input
                type="text"
                id="card-number"
                placeholder="e.g. 1234 5678 9123 0000"
                maxlength="19"
              />
              <span class="error-message number-error"></span>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="exp-date">Exp. Date (MM/YY)</label>
                <div class="date-inputs">
                  <input
                    type="text"
                    id="exp-month"
                    placeholder="MM"
                    maxlength="2"
                  />
                  <input
                    type="text"
                    id="exp-year"
                    placeholder="YY"
                    maxlength="2"
                  />
                </div>
                <span class="error-message date-error"></span>
              </div>
              <div class="form-group">
                <label for="cvc">CVC</label>
                <input
                  type="text"
                  id="cvc"
                  placeholder="e.g. 123"
                  maxlength="3"
                />
                <span class="error-message cvc-error"></span>
              </div>
            </div>
            <button class="confirm-btn">Confirm</button>
          </div>
          <div class="completed-state hidden">
            <img src="./images/icon-complete.svg" alt="" />
            <h2>Thank you!</h2>
            <p>We've added your card details</p>
            <button class="continue-btn">Continue</button>
          </div>
        </div>
      </div>
    </div>
    <div class="attribution">
      Challenge by
      <a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
        >Frontend Mentor</a
      >. Coded by <a href="#">Your Name Here</a>.
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.querySelector(".card-form");
        const completedState = document.querySelector(".completed-state");
        const confirmBtn = document.querySelector(".confirm-btn");
        const continueBtn = document.querySelector(".continue-btn");

        const cardNameDisplay = document.querySelector(".card-name-display");
        const cardNumberDisplay = document.querySelector(
          ".card-number-display"
        );
        const cardMonthDisplay = document.querySelector(".card-month-display");
        const cardYearDisplay = document.querySelector(".card-year-display");
        const cardCvcDisplay = document.querySelector(".card-cvc-display");

        const cardholderNameInput = document.getElementById("cardholder-name");
        const cardNumberInput = document.getElementById("card-number");
        const expMonthInput = document.getElementById("exp-month");
        const expYearInput = document.getElementById("exp-year");
        const cvcInput = document.getElementById("cvc");

        const nameError = document.querySelector(".name-error");
        const numberError = document.querySelector(".number-error");
        const dateError = document.querySelector(".date-error");
        const cvcError = document.querySelector(".cvc-error");

        cardNameDisplay.textContent = "JANE APPLESEED";
        cardNumberDisplay.textContent = "0000 0000 0000 0000";
        cardMonthDisplay.textContent = "00";
        cardYearDisplay.textContent = "00";
        cardCvcDisplay.textContent = "000";

        cardholderNameInput.addEventListener("input", (e) => {
          cardNameDisplay.textContent =
            e.target.value.toUpperCase() || "JANE APPLESEED";
        });

        cardNumberInput.addEventListener("input", (e) => {
          let value = e.target.value.replace(/\s/g, "");
          if (value.length > 16) {
            value = value.slice(0, 16);
          }
          let formattedValue = value.replace(/(.{4})/g, "$1 ").trim();
          cardNumberDisplay.textContent =
            formattedValue || "0000 0000 0000 0000";
          e.target.value = formattedValue;
        });

        expMonthInput.addEventListener("input", (e) => {
          cardMonthDisplay.textContent = e.target.value || "00";
        });

        expYearInput.addEventListener("input", (e) => {
          cardYearDisplay.textContent = e.target.value || "00";
        });

        cvcInput.addEventListener("input", (e) => {
          cardCvcDisplay.textContent = e.target.value || "000";
        });

        const validateForm = () => {
          let isValid = true;

          document
            .querySelectorAll(".error-message")
            .forEach((el) => (el.style.display = "none"));
          document
            .querySelectorAll(".form-group input")
            .forEach((el) => el.classList.remove("error"));

          const cardholderName = cardholderNameInput.value.trim();
          if (cardholderName === "") {
            nameError.textContent = "Can't be blank";
            nameError.style.display = "block";
            cardholderNameInput.classList.add("error");
            isValid = false;
          } else {
            nameError.style.display = "none";
            cardholderNameInput.classList.remove("error");
          }

          const cardNumber = cardNumberInput.value.replace(/\s/g, "");
          if (cardNumber === "") {
            numberError.textContent = "Can't be blank";
            numberError.style.display = "block";
            cardNumberInput.classList.add("error");
            isValid = false;
          } else if (!/^\d{16}$/.test(cardNumber)) {
            numberError.textContent = "Wrong format, 16 digits required";
            numberError.style.display = "block";
            cardNumberInput.classList.add("error");
            isValid = false;
          } else {
            numberError.style.display = "none";
            cardNumberInput.classList.remove("error");
          }

          const expMonth = expMonthInput.value.trim();
          const expYear = expYearInput.value.trim();
          if (expMonth === "" || expYear === "") {
            dateError.textContent = "Can't be blank";
            dateError.style.display = "block";
            expMonthInput.classList.add("error");
            expYearInput.classList.add("error");
            isValid = false;
          } else {
            dateError.style.display = "none";
            expMonthInput.classList.remove("error");
            expYearInput.classList.remove("error");
          }

          const cvc = cvcInput.value.trim();
          if (cvc === "") {
            cvcError.textContent = "Can't be blank";
            cvcError.style.display = "block";
            cvcInput.classList.add("error");
            isValid = false;
          } else {
            cvcError.style.display = "none";
            cvcInput.classList.remove("error");
          }

          return isValid;
        };

        confirmBtn.addEventListener("click", (e) => {
          e.preventDefault();
          if (validateForm()) {
            form.classList.add("hidden");
            completedState.classList.remove("hidden");
          }
        });

        continueBtn.addEventListener("click", (e) => {
          e.preventDefault();
          form.classList.remove("hidden");
          completedState.classList.add("hidden");
          form.reset();
          cardNameDisplay.textContent = "JANE APPLESEED";
          cardNumberDisplay.textContent = "0000 0000 0000 0000";
          cardMonthDisplay.textContent = "00";
          cardYearDisplay.textContent = "00";
          cardCvcDisplay.textContent = "000";
        });
      });
    </script>
  </body>
</html>
